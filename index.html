<html>
  <head>
    <title>EToH Tower Tracker</title>
    <link rel="stylesheet" href="dist/tailwind.css">
    <link rel="stylesheet" href="css/difficulties.css">
    <link rel="stylesheet" href="css/tables.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <meta charset="UTF-8">
    <meta name="description" content="Track badge progress for the roblox game Eternals Towers of Hell. Works with every badge in game (including unobtainable ones), offline, and can even filter completed areas or badge categories.">

    <!-- <script src="https://cdn.jsdelivr.net/npm/compress-json@3/bundle.min.js"></script> -->
    <!-- <script src="https://dragmine149.github.io/external/storage.js" type="module"></script>
    <script src="https://dragmine149.github.io/Scripts/verbose.mjs" type="module"></script> -->
    <!-- <script src="https://dragmine149.github.io/Scripts/verbose.css"></script> -->
    <!--<link rel="stylesheet" href="Scripts/verbose.css">
    <script src="https://unpkg.com/dexie/dist/dexie.js"></script>-->

    <script src="dist/index.js" type="module"></script>

    <!--<script src="Scripts/storage.js"></script>
    <script src="Scripts/verbose.js"></script>-->
  </head>
  <body class="bg-zinc-600 font-[Noto_Serif] p-1.5">
    <div id="top_bar" class="absolute w-full-1.5 z-100 bg-neutral-900 flex items-center justify-between p-1.5 text-white rounded-t-sm text-lg">
      <input type="checkbox" hidden id="nav-hide" class="peer">
      <label for="nav-hide" class="fake-button peer-checked:hidden lg:w-40 lg:text-center w-60">Show Navigation</label>
      <nav class="peer-checked:flex hidden gap-1 z-10 lg:flex-row flex-col">
        <label for="nav-hide" class="fake-button lg:w-40 lg:text-center w-60">Hide Navigation</label>
        <a class="fake-button" href="..">Parent site</a>
        <a class="fake-button" id="main_menu_button">Load User</a>
        <a class="fake-button" href="info.html">Information</a>
        <a class="fake-button" href="https://github.com/dragmine149/eTOH/releases">Updates (github releases)</a>
      </nav>
      <div id="title" class="lg:absolute inset-x-0 justify-center pointer-events-none flex">
        <div>
          <div>
            <span class="font-bold">EToH Tower Tracker&nbsp;</span><span class="italic">by dragmine149</span>
          </div>
          <span id="status" class="text-sm"></span>
        </div>
      </div>
      <div id="viewing" class="z-10 flex justify-center items-center">
        <span>Currently viewing</span>:&nbsp;<user>No-one!</user>&nbsp;
        <div id="mini-search" hidden>
          <input type="text" placeholder="User name/id/profile"
            maxlength="50"
            list="user_list"
            class="w-full pr-10 pl-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-300"
          >
          <!--0.3rem whilst no pfp. 3.4rem whilst pfp. It would be nice for an alternative way but this is what we have to do for now.-->
          <button
            type="submit"
            aria-label="Submit search"
            class="absolute top-[0.7rem]
                    place-items-center text-gray-500"
            style="right: 0.3rem;"
          >
            <svg viewBox="0 0 24 24" width="16" height="16"
              class="fill-current" aria-hidden="true" focusable="false">
              <path
                d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5
                    6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79
                    L20 20.49 21.49 19l-5.99-5zM9.5 14A4.5 4.5 0 1 1 14 9.5
                    4.5 4.5 0 0 1 9.5 14z"/>
            </svg>
          </button>
        </div>
        <img id="user-profile" class="size-12.5 peer">
        <div id="usermenu" class="fixed flex-col bg-zinc-gray right-[0.35rem] top-17 p-2 border-2 border-black border-solid
          flex
          opacity-0 data-[visible=true]:opacity-100
          transition-opacity delay-75
          " data-visible="false" hidden>
          <a href="https://roblox.com/users/unknown" class="fake-button" target="_blank" rel="noopener noreferrer">Visit roblox profile</a>
          <hr>
          <button id="usermenu-default" title="If URL user search parameter doesn't exist, load this user.">Set default user</button>
          <button id="usermenu-favourite" hidden>Favourite user</button>
          <button id="usermenu-delete" hidden>Delete user</button>
        </div>
        <!--<a id="user-profile" href="https://roblox.com/users/unknown" target="_blank" rel="noopener noreferrer">
          <img class="size-12.5">
        </a>-->
      </div>
    </div>
    <div hidden id="under_top_bar" class="bg-neutral-800/40 flex p-0.5 text-white rounded-b-sm z-2">
      <div id="points" class="grid grid-rows-2 grid-cols-2">
        <span count="towers">Towers: </span>
        <span count="points">Tower points: </span>
        <span count="info" class="col-span-2">Permanent, Non mini-towers above. Hover to see all badges.</span>
      </div>
      <div id="categories" class="pl-5">
        View:
        <button onclick="etohUI.load_category('default')">Default</button>
        <button onclick="etohUI.load_category('difficulty')">Difficulty</button>
        <button onclick="etohUI.load_category('other')">Other</button>
      </div>
      <div id="toggleables">
        <button id="toggle-locked" onclick="etohUI.toggleLocked()">Hide Locked Towers</button>
        <button id="toggle-mini" onclick="etohUI.toggleMini()">Hide Mini Towers</button>
      </div>
      <div id="other" class="flex ml-auto">
        <div id="badge_search" hidden>
          <input type="text" id="badge-search-input" placeholder="Search for a Badge"
            oninput="etohUI.search(this.value)"
            onkeydown="if (event.key === 'Enter') { if (event.shiftKey) { return etohUI.previous_search(); } return etohUI.next_search() }"
          >
          <span tag="search_count"></span>
        </div>
        <button onclick="userManager.current_user.loadUncompleted()">Update Badges</button>
      </div>
    </div>

    <div id="count" hidden>
      <span count="NAT">Other: </span>
      <span count="Mini"> Mini-Towers (NEATs): </span>
      <span count="Steeple"> Steeples: </span>
      <span count="Tower">Towers: </span>
      <span count="Citadel">Citadels: </span>
      <span count="Obelisk">Obelisk: </span>
    </div>

    <datalist id="user_list"></datalist>

    <div id="badges" class="scroll-auto overflow-y-scroll fixed top-16 h-full-2 w-full-1.5 pt-0.5"></div>

    <div id="search-main" hidden class="bg-neutral-800/80 box-border h-full-2 w-full-1.5 items-center justify-center flex z-20 fixed top-16">
      <div id="search" class="bg-gray-900/70 text-white text-center rounded-md p-3 flex items-center flex-col
        justify-between box-border
        h-5/10 lg:h-3/10 w-full lg:w-4/10">
        <div class="text-3xl">Load EToH User Stats</div>
        <div class="w-full text-lg">
          <span class="pb-2">Please enter a roblox username, userId, or a link to the roblox profile</span>
          <!--URL length is ~46 + 4 just for roundness sake. Username is limited at 20, hence that fine. -->
          <input type="text" id="search_input" list="user_list" placeholder="dragmine149 | 605215929 | https://www.roblox.com/users/605215929/profile"
            class=" bg-teal-500/10 rounded-md w-full text-center"
            maxlength="50">
          <div class="w-full flex">
            <button disabled class="w-full" id="search_back">Back to current user</button>
            <button disabled class="w-full" id="search_button">Load User</button>
          </div>
        </div>
        <div id="progress" class="text-3xl">
          <span id="load_errors" class="text-red-700" hidden>A network error has occurred, please try again.</span>
        </div>
      </div>
    </div>

    <div hidden id="pre-load" class="bg-neutral-800/80 box-border size-full items-center justify-center flex z-50 fixed top-16 h-full-2 w-full-1.5">
      <div id="pre-load-info" class="bg-gray-900/70 text-white text-center rounded-md p-3 flex items-center flex-col
        justify-between box-border
        h-5/10 lg:h-3/10 w-full lg:w-4/10">
        <span class="text-4xl">Please wait whilst we load required assets.</span>
        <br>
        <span class="text-2xl"></span>
        <br>
        <button class="text-3xl" hidden>Retry loading required assets (or refresh)</button>
      </div>
    </div>

    <noscript class="bg-neutral-800/80 box-border size-full items-center justify-center flex z-100 fixed top-16 h-full-2 w-full-1.5">
      <div class="bg-gray-900/70 text-white text-center rounded-md p-3 flex items-center flex-col
        justify-between box-border
        h-5/10 lg:h-3/10 w-full lg:w-4/10">
        <span class="text-4xl">NoScript here!</span>
        <span class="text-2xl">Welcome to <a class="visited:text-blue-500 text-blue-400 underline" href="https://www.roblox.com/games/8562822414/Eternal-Towers-of-Hell">Eternal Towers of Hell</a> Tower Tracker made by dragmine149.</span>
        <span>Due to this site being mostly client-based instead of server-based. Javascript is required for this site to work. I apologise for the inconevience.</span>
        <span class="text-xl">If you need help enabling javascript, please visit: <a class="visited:text-blue-500 text-blue-400 underline" href="https://www.enablejavascript.io/">https://www.enablejavascript.io/</a></span>
      </div>
    </noscript>


    <!--<div id="main" class="flex flex-col items-center justify-center h-(--height-almost-full)">
      <noscript class="noscript">
        For full functionality of this sub-site site it is necessary to enable <bold>JavaScript</bold>.<br>
        Here are the <a href="https://www.enablejavascript.io/">
          instructions on How to enable JavaScript in your web browser
        </a>.
      </noscript>

      <div id="badges" hidden>
      </div>


    </div>-->
  </body>
</html>
